---
import { HeroImage, HeroSimple, Text, TextWithImage } from './slices';

const sliceComponents = {
  hero_image: HeroImage,
  hero_simple: HeroSimple,
  text: Text,
  text_with_image: TextWithImage,
};

const { slices = [] } = Astro.props;
---

{slices.map(
  ({ slice_type, primary = {}, items = [] }) => {
    const sliceData = { ...primary, items };
    const SliceComponent = sliceComponents[slice_type];

    return SliceComponent
      ? <SliceComponent {...sliceData} />
      : null;
  }
)}
