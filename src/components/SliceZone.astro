---
import { HeroImage, HeroSimple, Text } from './slices';

const sliceComponents = {
  hero_image: HeroImage,
  hero_simple: HeroSimple,
  text: Text,
};

const { slices = [] } = Astro.props;
---

{slices.map(
  ({ slice_type, primary = {}, items = [] }) => {
    const sliceData = { ...primary, items };
    const SliceComponent = sliceComponents[slice_type];

    if (SliceComponent) {
      return <SliceComponent {...sliceData} />;
    }

    return null;
  }
)}
