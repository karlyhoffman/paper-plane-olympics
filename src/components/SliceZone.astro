---
import {
  CTA,
  HeroImage,
  HeroSimple,
  Image,
  PlanesIndex,
  Text,
  TextWithImage
} from './slices';

const sliceComponents = {
  cta: CTA,
  hero_image: HeroImage,
  hero_simple: HeroSimple,
  image: Image,
  planes_index: PlanesIndex,
  text: Text,
  text_with_image: TextWithImage,
};

const { slices = [] } = Astro.props;
---

{slices.map(
  ({ slice_type, primary = {}, items = [] }) => {
    const sliceData = { ...primary, items };
    const SliceComponent = sliceComponents[slice_type];

    return SliceComponent
      ? <SliceComponent {...sliceData} />
      : null;
  }
)}
